<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <title>쇼핑몰 만들기</title>
  </head>
  <body>
    <div id="root"></div>
    <script
      src="https://unpkg.com/react@17/umd/react.development.js"
      crossorigin
    ></script>
    <script
      src="https://unpkg.com/react-dom@17/umd/react-dom.development.js"
      crossorigin
    ></script>
    <script src="https://unpkg.com/babel-standalone@6/babel.min.js"></script>
    <script type="text/babel">
      const productData = [
        {
          id: 1,
          productName: "버그를 Java라 버그잡는 개리씨 키링 개발자키링 금속키링",
          price: 12500,
          stockCount: 100,
          thumbnailImg: "asset/img/1/thumbnailImg.jpg",
          option: [],
          discountRate: 0,
          shippingFee: 1500,
          detailInfoImage: [
            "asset/detail/2/detail1.png",
            "asset/detail/2/detail2.png",
          ],
          viewCount: 0,
          pubDate: "2022-02-28",
          modDate: "2022-02-28",
        },
        {
          id: 2,
          productName: "우당탕탕 라이캣의 실험실 스티커 팩",
          price: 3500,
          stockCount: 1000,
          thumbnailImg: "asset/img/2/thumbnailImg.jpg",
          option: [],
          discountRate: 0,
          shippingFee: 1500,
          detailInfoImage: [
            "asset/detail/2/detail1.png",
            "asset/detail/2/detail2.png",
          ],
          viewCount: 0,
          pubDate: "2022-02-28",
          modDate: "2022-02-28",
        },
        {
          id: 3,
          productName: "딥러닝 개발자 무릎 담요",
          price: 17500,
          stockCount: 0,
          thumbnailImg: "asset/img/3/thumbnailImg.jpg",
          option: [],
          discountRate: 0,
          shippingFee: 1500,
          detailInfoImage: [
            "asset/detail/3/detail1.png",
            "asset/detail/3/detail2.png",
            "asset/detail/3/detail3.png",
          ],
          viewCount: 0,
          pubDate: "2022-02-28",
          modDate: "2022-02-28",
        },
        {
          id: 4,
          productName: "네 개발잡니다 개발자키링 금속키링",
          price: 13500,
          stockCount: 100,
          thumbnailImg: "asset/img/4/thumbnailImg.jpg",
          option: [],
          discountRate: 0,
          shippingFee: 1500,
          detailInfoImage: [
            "asset/detail/4/detail1.png",
            "asset/detail/4/detail2.png",
          ],
          viewCount: 0,
          pubDate: "2022-02-28",
          modDate: "2022-02-28",
        },
        {
          id: 5,
          productName: "Hack Your Life 개발자 노트북 파우치",
          price: 36000,
          stockCount: 230,
          thumbnailImg: "asset/img/5/thumbnailImg.jpg",
          option: [
            {
              id: 1,
              optionName: "13인치",
              additionalFee: 0,
            },
            {
              id: 2,
              optionName: "15인치",
              additionalFee: 1000,
            },
          ],
          discountRate: 19,
          shippingFee: 1500,
          detailInfoImage: [
            "asset/detail/5/detail1.png",
            "asset/detail/5/detail2.png",
          ],
          viewCount: 0,
          pubDate: "2022-02-28",
          modDate: "2022-02-28",
        },
        {
          id: 6,
          productName: "[NEW] 위니브 개발자, 캐릭터 스티커팩 2종",
          price: 5500,
          stockCount: 1000,
          thumbnailImg: "asset/img/6/thumbnailImg.jpg",
          option: [
            {
              id: 1,
              optionName: "위니브 개발자 스티커팩",
              additionalFee: 0,
            },
            {
              id: 2,
              optionName: "위니브 프랜즈 스티커팩",
              additionalFee: 0,
            },
            {
              id: 3,
              optionName: "스티커팩 세트(개발자+프렌즈)",
              additionalFee: 5000,
            },
          ],
          discountRate: 0,
          shippingFee: 1500,
          detailInfoImage: [
            "asset/detail/6/detail1.png",
            "asset/detail/6/detail2.png",
            "asset/detail/6/detail3.png",
            "asset/detail/6/detail4.png",
            "asset/detail/6/detail5.png",
          ],
          viewCount: 0,
          pubDate: "2022-02-28",
          modDate: "2022-02-28",
        },
        {
          id: 7,
          productName: "제주코딩베이스캠프 코딩 연습장 세트",
          price: 8000,
          stockCount: 1000,
          thumbnailImg: "asset/img/7/thumbnailImg.jpg",
          option: [],
          discountRate: 0,
          shippingFee: 1500,
          detailInfoImage: [
            "asset/detail/7/detail1.png",
            "asset/detail/7/detail2.png",
          ],
          viewCount: 0,
          pubDate: "2022-02-28",
          modDate: "2022-02-28",
        },
      ];

      //   /* step1 */
      //   // 나중에는 이 함수 하나가 파일 하나로 빠져서 관리됨
      //   function ProductList() {
      //     /* 비동기 모듈이 여기에 들어가야 함 */
      //     // fetch 등은 밖에 .jsx등으로 만들어놓고 여기에 가져와서 쓴다는 것

      //     // js코드형식인데 array형태일 경우 ~~~~~~ 뿌려줄 수 있다
      //     console.log(productData);
      //     return (
      //       <ul>
      //         {[
      //           <ProductInfo item={productData[0]} />,
      //           <ProductInfo item={productData[1]} />,
      //           <ProductInfo item={productData[2]} />,
      //           <ProductInfo item={productData[3]} />,
      //           <ProductInfo item={productData[4]} />,
      //           <ProductInfo item={productData[5]} />,
      //         ]}
      //       </ul>
      //     );
      //   }

      //   /* step2 */
      //   function ProductList() {
      //     /* js 문법 사용 */
      //     // console.log(productData);
      //     let result = [];
      //     productData.forEach((i) => {
      //       // 아이템을 구분할 수 있는 key를 넣어줘야 함 (식별자 역할)
      //       result.push(<ProductInfo item={i} key={i.id} />);
      //     });
      //     return <ul>{result}</ul>;
      //   }

      /* step 3 */
      function ProductList() {
        return (
          <ul>
            {productData
              .filter((x) => x.price <= 10000)
              .map((i) => (
                <ProductInfo item={i} key={i.id} />
              ))}
          </ul>
        );
      }

      function ProductInfo(props) {
        console.log(props.item);
        return (
          <li>
            <img
              src={"https://test.api.weniv.co.kr/" + props.item["thumbnailImg"]}
              alt=""
            />
            <p>{props.item["productName"]}이름</p>
            <p>하트</p>
            // 중괄호 안은 자바스크립트 코드임
            <p>가격: {parseInt(props.item["price"])}원</p>
          </li>
        );
      }

      // 아직 이미지가 없으므로 p태그로 감쌈
      function ShoppingCart() {
        return <p>쇼핑카트</p>;
      }

      //   {Header("호준")}
      // <Header name="호준">  // 위와 아래가 동일한 것
      const app = (
        <main>
          <ProductList />
          <ShoppingCart />
        </main>
      );

      const domContainer = document.querySelector("#root");
      ReactDOM.render(app, domContainer);
    </script>
  </body>
</html>
